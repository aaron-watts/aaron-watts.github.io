<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="All projects for the AaronWattsDev
    website." name="description"/>
  <title>
   AWD - Projects
  </title>
  <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
  <link href="/images/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
  <link href="/images/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
  <link href="/site.webmanifest" rel="manifest"/>
  <link href="https://aaronwattsdev.com/feed.xml" rel="alternate" title="Aaron Watts Dev RSS Feed" type="application/rss+xml"/>
  <link href="/assets/styles/style.css" rel="stylesheet"/>
 </head>
 <body>
  <header>
   <div>
    <strong><a href="/home">AaronWattsDev</a></strong>
    Tech
   </div>
   <div class="rss-container">
    <a href="https://aaronwattsdev.com/tech/feed.xml">
     <img alt="RSS feed" class="rss-icon" src="/images/rss.svg"/>
    </a>
   </div>
  </header>
  <h1>
   Technology
  </h1>
  <div>
    Tech today is a daunting minefield. When I choose my tech,
    be it hardware or software, I try to choose technology
    that I consider to be <em>thoughful</em>. I praise tech
    that is affordable, ethical, and most of all useful.
    Here I will write about some of my choices of tech and
    talk about why I consider it to be <em>thoughtful</em>.
    This is not to convince you to buy things, I am writing
    here just to express what I believe to be good tech, and
    hopefully others will learn something new or feel provoked
    to think more about what tech they use day to day.
  </div>
  <p class="note">
   Filter by topic:
  </p>
  <search id="topic-list--container">
   <ul class="topic-truncate" id="topic-list">
   </ul>
  </search>
  <noscript class="note">
   This page does have some search features to make
    finding stuff easier if you were to enable script ...
    no pressure.
  </noscript>
  <main>

  </main>
  <footer>
   <div>
    Made by Hand. Powered by
   </div>
   <a href="https://pages.github.com/" target="_blank">
    <img alt="https://pages.github.com/" src="/images/githubpages.svg"/>
   </a>
  </footer>
  <script>
   const populateTopics = () => {
            const isOverflow = ({clientHeight, scrollHeight}) => {
                return scrollHeight > clientHeight;
            };

            const makeTopicTag = (topicName) => {
                const topic = document.createElement('ul');
                topic.classList.add('topic');
                topic.innerText = topicName;
                topic.addEventListener('click', filterByTopic);
                return topic;
            };

            const makeButton = () => {
                const showBtn = document.createElement('button');
                showBtn.innerText = 'Show more';
                showBtn.classList.add('hidden');
                showBtn.addEventListener('click', () => {
                    topicList.classList.toggle('topic-truncate');
                    showBtn.innerText == 'Show more' ? 
                    showBtn.innerText = 'Show less' : 
                    showBtn.innerText = 'Show more';
                });
                return showBtn;
            }

            const topicContainer = document.querySelector('#topic-list--container');
            const topicList = document.querySelector('#topic-list');
            const topics = [
                ...new Set(
                    [...document.querySelectorAll('.topic')]
                        .map(i => i.innerText)
                )
            ].sort();

            topics.forEach(topicName => {
                topicList.appendChild(makeTopicTag(topicName));
            });

            const showBtn = makeButton();
            topicContainer.appendChild(showBtn);

            window.addEventListener('resize', function() {
                if (isOverflow(topicList) || topicList.clientHeight > window.innerHeight * .2) {
                    showBtn.classList.remove('hidden');
                } else showBtn.classList.add('hidden')
            }, true)

            if (isOverflow(topicList)) {
                showBtn.classList.remove('hidden');
            } 
        };

        function filterByTopic() {
            const selected = document.querySelector('#topic-list>.topic.selected');
            if (selected) selected.classList.remove('selected');

            const selection = this.innerText;
            const projects = document.querySelectorAll('.project');

            if (!selected || selected.innerText !== selection) {
                this.classList.add('selected');

                projects.forEach(project => {
                    project.classList.add('hidden');

                    const topics = [...project.children[2].children];
                    for (let topic of topics) {
                        if (topic.innerText.trim() === selection.trim()) {
                            project.classList.remove('hidden');
                        }
                    }
                });
            } else {
                this.classList.remove('selected');

                projects.forEach(project => project.classList.remove('hidden'));
            }

        };

        document.addEventListener('DOMContentLoaded', populateTopics);
  </script>
 </body>
</html>